<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ChronoRift - A turn-based RPG featuring Echo creatures, dynamic world mutations, and real-time multiplayer battles">
    <meta name="theme-color" content="#1f2121">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>ChronoRift - Turn-Based Echo RPG</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Root CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Color Palette */
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-teal-700: rgba(26, 104, 115, 1);
            --color-teal-800: rgba(41, 150, 161, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-orange-500: rgba(168, 75, 47, 1);

            /* Semantic Colors (Light Mode) */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-primary-active: var(--color-teal-700);
            --color-border: rgba(94, 82, 64, 0.2);
            --color-error: var(--color-red-500);
            --color-success: var(--color-teal-500);
            --color-warning: var(--color-orange-500);

            /* Typography */
            --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            --font-family-mono: "JetBrains Mono", ui-monospace, monospace;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --font-size-2xl: 20px;
            --font-size-3xl: 24px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            --line-height-tight: 1.2;
            --line-height-normal: 1.5;

            /* Spacing */
            --space-4: 4px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;

            /* Border Radius */
            --radius-sm: 6px;
            --radius-base: 8px;
            --radius-md: 10px;
            --radius-lg: 12px;

            /* Shadows */
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04);

            /* Animation */
            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Dark mode */
        @media (prefers-color-scheme: dark) {
            :root {
                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: rgba(167, 169, 169, 0.7);
                --color-primary: var(--color-teal-300);
                --color-primary-hover: var(--color-teal-400);
                --color-primary-active: var(--color-teal-800);
                --color-border: rgba(119, 124, 124, 0.3);
            }
        }

        html {
            font-size: var(--font-size-base);
            font-family: var(--font-family-base);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            background-color: var(--color-background);
            color: var(--color-text);
            line-height: var(--line-height-normal);
            overflow-x: hidden;
        }

        /* Root App Container */
        #root {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Loading Screen */
        .app-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--color-background) 0%, var(--color-surface) 100%);
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--color-border);
            border-top-color: var(--color-primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Main Layout */
        main {
            flex: 1;
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        /* Responsive Container */
        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: var(--space-16);
        }

        /* Skip to main content (accessibility) */
        .skip-to-main {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--color-primary);
            color: white;
            padding: var(--space-8) var(--space-16);
            text-decoration: none;
            border-radius: var(--radius-base);
            z-index: 9999;
        }

        .skip-to-main:focus {
            top: 0;
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                color: black;
            }
        }
    </style>
    
    <!-- No-JS Fallback -->
    <noscript>
        <style>
            #root::after {
                content: "ChronoRift requires JavaScript to run. Please enable JavaScript in your browser.";
                display: block;
                padding: var(--space-32);
                text-align: center;
                color: var(--color-error);
                font-size: var(--font-size-lg);
            }
        </style>
    </noscript>
</head>
<body>
    <!-- Accessibility: Skip to main content -->
    <a href="#main" class="skip-to-main">Skip to main content</a>
    
    <!-- React Root -->
    <div id="root">
        <div class="app-loading">
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- Main Application Scripts -->
    <script type="module">
        // Global app configuration
        window.CHRONORIFT_CONFIG = {
            API_BASE_URL: process.env.REACT_APP_API_URL || 'http://localhost:8000/api',
            WS_URL: process.env.REACT_APP_WS_URL || 'ws://localhost:8000/ws',
            ENVIRONMENT: process.env.NODE_ENV || 'development',
            VERSION: '1.0.0',
            GAME_NAME: 'ChronoRift',
        };

        // Performance monitoring (if not in production)
        if (window.CHRONORIFT_CONFIG.ENVIRONMENT !== 'production') {
            window.addEventListener('load', () => {
                const perfData = window.performance.timing;
                const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
                console.log(`Page Load Time: ${pageLoadTime}ms`);
            });
        }

        // Service Worker registration (PWA support)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(reg => console.log('SW registered'))
                    .catch(err => console.log('SW registration failed'));
            });
        }

        // Unhandled error tracking
        window.addEventListener('error', (event) => {
            console.error('Unhandled error:', event.error);
        });

        window.addEventListener('unhandledrejection', (event) => {
            console.error('Unhandled rejection:', event.reason);
        });
    </script>

    <!-- React App Bundle -->
    <script type="module" src="/src/main.jsx"></script>
</body>
</html>
